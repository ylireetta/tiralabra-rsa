# Weekly report 4
This week has been dedicated to unit testing the program. I tried my best to find suitable test data for `PrimeHelper`, and while I'm not entirely sure that the test values are the best possible, the tests still pass... which is good enough for me at this point! Testing `squaredPowerModCheck` proved to be quite difficult for me to test and understand, but on the other hand, it forced me to look at it more closely and follow the execution path of the program with different values.

I was a bit surprised to find out that the encryption and decryption part of the program was very simple and easy to implement. It was basically a treat to write the *cryption code after fighting with prime numbers for three weeks.

I also found a couple of bugs from my code this week! The first one was major - if the private exponent d of a user key became negative, I had stated that the final value for d should be the `negative d + n`. This was incorrect and it took e a while to figure out what was wrong. I only noticed this when I tested the decryption process manually. For some user keys both the encryption and the decryption worked fine, but for some users, the decryption returned gibberish. After I realized that the culprit was the case where the private exponent was going to be negative at first, I dived into Google and fixed the bug with [this](https://stackoverflow.com/a/21007972 "What to do with the results of extended Euclidean algorithm"). The second bug wasn't anything important, but I had forgotten to assign the result of `r.add(BigInteger.ONE)` to a variable in `PrimeHelper.factorizePowerTwo()`. The value of `r` isn't used for anything in my code, but I checked its value when I wrote unit tests for the method, and noticed that the results were not as expected. I guess this week has given me some new insight into the importance of unit testing!